import{d as z,q as D,B as A,D as F,f as d,w as l,$ as I,r as a,o as r,x as e,a as n,e as g,z as u,g as K,t as O,X,a0 as j,E as G}from"./index-94373d68.js";import{S as H}from"./index-d0f8239b.js";import{_ as J}from"./table-form.vue_vue_type_script_setup_true_lang-ef0ebeb8.js";import"./_plugin-vue_export-helper-c27b6911.js";import"./index.vue_vue_type_script_setup_true_lang-8c03ffd8.js";const P=g("span",{class:"search-btn__left"},"查询",-1),Q=g("span",{class:"search-btn__left"},"重置",-1),W={class:"table-btn-box mb10"},Y={class:"flex-inline flex item-center"},Z={class:"ml3"},se=z({__name:"index",setup(ee){let o=D({});const U=()=>{p()},B=()=>{o.value={},p()},h=A({data:[]}),T=F(()=>h.data.map(c=>c.id)),p=()=>{I({...o.value}).then(c=>{h.data=c||[]})},S=c=>{X.confirm("是否确认删除本条数据？","提示",{confirmButtonText:"确认",cancelButtonText:"取消",type:"warning"}).then(()=>{j(c.id).then(()=>{G.success("删除成功"),p()})}).catch(()=>{})},V=D(),v=async(c={})=>{await V.value.openDialog(c)};return p(),(c,s)=>{const k=a("el-input"),i=a("el-form-item"),m=a("el-col"),f=a("el-option"),C=a("el-select"),R=a("ele-search"),w=a("el-icon"),b=a("el-button"),M=a("ele-refresh"),$=a("el-row"),E=a("el-form"),N=a("ele-circle-plus"),_=a("el-table-column"),y=a("el-tag"),q=a("el-table"),L=a("el-card");return r(),d(L,{shadow:"never",class:"card-box"},{default:l(()=>[e(E,{model:n(o),"label-width":"90px"},{default:l(()=>[e($,{gutter:20},{default:l(()=>[e(m,{sm:24,md:12,lg:8,xl:6},{default:l(()=>[e(i,{label:"菜单名称"},{default:l(()=>[e(k,{modelValue:n(o).name,"onUpdate:modelValue":s[0]||(s[0]=t=>n(o).name=t),clearable:"",placeholder:"请输入菜单名称"},null,8,["modelValue"])]),_:1})]),_:1}),e(m,{sm:24,md:12,lg:8,xl:6},{default:l(()=>[e(i,{label:"权限编码"},{default:l(()=>[e(k,{modelValue:n(o).code,"onUpdate:modelValue":s[1]||(s[1]=t=>n(o).code=t),clearable:"",placeholder:"请输入权限编码"},null,8,["modelValue"])]),_:1})]),_:1}),e(m,{sm:24,md:12,lg:8,xl:6},{default:l(()=>[e(i,{label:"路由"},{default:l(()=>[e(k,{modelValue:n(o).routeUrl,"onUpdate:modelValue":s[2]||(s[2]=t=>n(o).routeUrl=t),clearable:"",placeholder:"请输入路由"},null,8,["modelValue"])]),_:1})]),_:1}),e(m,{sm:24,md:12,lg:8,xl:6},{default:l(()=>[e(i,{label:"菜单类型"},{default:l(()=>[e(C,{modelValue:n(o).type,"onUpdate:modelValue":s[3]||(s[3]=t=>n(o).type=t),clearable:"",placeholder:"请选择菜单类型"},{default:l(()=>[e(f,{label:"导航菜单",value:1}),e(f,{label:"菜单",value:2}),e(f,{label:"权限",value:3})]),_:1},8,["modelValue"])]),_:1})]),_:1}),e(m,{sm:24,md:12,lg:8,xl:6},{default:l(()=>[e(i,{label:"状态"},{default:l(()=>[e(C,{modelValue:n(o).status,"onUpdate:modelValue":s[4]||(s[4]=t=>n(o).status=t),clearable:"",placeholder:"请选择状态"},{default:l(()=>[e(f,{label:"启用",value:1}),e(f,{label:"禁用",value:0})]),_:1},8,["modelValue"])]),_:1})]),_:1}),e(m,{sm:24,md:12,lg:8,xl:6},{default:l(()=>[e(i,{"label-width":"0"},{default:l(()=>[e(b,{type:"primary",onClick:U},{default:l(()=>[e(w,null,{default:l(()=>[e(R)]),_:1}),P]),_:1}),e(b,{onClick:B},{default:l(()=>[e(w,null,{default:l(()=>[e(M)]),_:1}),Q]),_:1})]),_:1})]),_:1})]),_:1})]),_:1},8,["model"]),g("div",W,[e(b,{type:"primary",onClick:v},{default:l(()=>[e(w,{class:"mr5"},{default:l(()=>[e(N)]),_:1}),u(" 新 增 ")]),_:1})]),e(q,{data:n(h).data,border:"",style:{width:"100%"},"row-key":"id","expand-row-keys":n(T)},{default:l(()=>[e(_,{prop:"name",label:"菜单名称",width:"300"},{default:l(t=>{var x;return[g("div",Y,[((x=t.row.icon)==null?void 0:x.indexOf("local"))>=0?(r(),d(H,{key:0,name:t.row.icon},null,8,["name"])):(r(),d(w,{key:1},{default:l(()=>[(r(),d(K(t.row.icon)))]),_:2},1024)),g("span",Z,O(t.row.name),1)])]}),_:1}),e(_,{prop:"code",label:"权限标识",align:"center",width:"150"}),e(_,{prop:"type",label:"类型",align:"center"},{default:l(t=>[t.row.type===1?(r(),d(y,{key:0,"disable-transitions":""},{default:l(()=>[u("菜单")]),_:1})):t.row.type===2?(r(),d(y,{key:1,type:"success","disable-transitions":""},{default:l(()=>[u("外链")]),_:1})):(r(),d(y,{key:2,type:"warning","disable-transitions":""},{default:l(()=>[u("权限")]),_:1}))]),_:1}),e(_,{prop:"routeUrl",label:"路由",align:"center"}),e(_,{prop:"status",label:"状态",align:"center"},{default:l(t=>[t.row.status===!0?(r(),d(y,{key:0,type:"success","disable-transitions":""},{default:l(()=>[u("启用")]),_:1})):(r(),d(y,{key:1,type:"danger","disable-transitions":""},{default:l(()=>[u("禁用")]),_:1}))]),_:1}),e(_,{prop:"sort",label:"排序",align:"center"}),e(_,{prop:"createTime",label:"创建时间",align:"center",width:"200"}),e(_,{label:"操作",fixed:"right",align:"center",width:"200"},{default:l(({row:t})=>[e(b,{link:"",type:"primary",onClick:x=>v(t)},{default:l(()=>[u(" 修改 ")]),_:2},1032,["onClick"]),e(b,{onClick:x=>S(t),link:"",type:"danger"},{default:l(()=>[u(" 删除 ")]),_:2},1032,["onClick"])]),_:1})]),_:1},8,["data","expand-row-keys"]),e(J,{ref_key:"tableDialogRef",ref:V,onRefresh:p},null,512)]),_:1})}}});export{se as default};
