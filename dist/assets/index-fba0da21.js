import{_ as W}from"./index-f1a11641.js";import{u as X,d as L,_ as Y}from"./useTable-c7703c10.js";import{_ as Z}from"./DictTypeDialog.vue_vue_type_script_setup_true_lang-f3548666.js";import{_ as ee}from"./DictDialog.vue_vue_type_script_setup_true_lang-c4f27200.js";import{g as te,a as ae,d as oe,b as ne}from"./dict-bd3be091.js";import{d as le,q,B as A,c as _,x as e,w as t,a,r as l,o as s,z as u,e as k,F as ie,h as se,f as b,k as ce,n as de,t as N}from"./index-94373d68.js";import{_ as re}from"./_plugin-vue_export-helper-c27b6911.js";import"./useDialog-8130540a.js";const pe={class:"dict-type-list mt10 mb10"},_e=["onClick"],ue={class:"color-info font12"},me={key:0,class:"dict-type-operation"},fe={key:1,class:"dict-type-operation"},ge={key:1,class:"color-info font12 mt30 flex flex-center"},ye=le({__name:"index",setup(Ce){const h=q(),F=[{prop:"label",label:"名称"},{prop:"dictCode",label:"类型"},{prop:"value",label:"数据值"},{prop:"sort",label:"排序"},{prop:"remark",label:"备注"},{prop:"status",label:"状态",isCustom:!0},{prop:"createTime",label:"创建时间",width:170},{prop:"operation",label:"操作",isCustom:!0,fixed:"right",width:120}];function v(n={}){h.value.openDialog(n)}const p=A({request:ae,initParam:{dictCode:""},immediate:!1}),{tableData:I,search:ke,pagination:g,getTableData:y,changePage:E,changeSize:U}=X(p);function j(n){L({id:n.id,request:oe,callback:()=>{y()}})}const D=q(),c=A({data:[],params:{pageSize:9999,keyword:""}});function m(){te(c.params).then(n=>{c.data=n||[]})}function C(n={}){D.value.openDialog(n)}function x(n){L({id:n.id,request:ne,callback:()=>{m()}})}function G(n){p.initParam.dictCode=n,y()}return m(),(n,P)=>{var B;const S=l("ele-circle-plus"),r=l("el-icon"),d=l("el-button"),H=l("ele-search"),J=l("el-input"),T=l("ele-edit"),z=l("el-tooltip"),w=l("ele-delete"),$=l("el-card"),R=l("el-col"),V=l("el-tag"),K=Y,M=W,O=l("el-row");return s(),_("div",null,[e(O,{gutter:5},{default:t(()=>[e(R,{span:6},{default:t(()=>[e($,{shadow:"never"},{default:t(()=>[e(d,{type:"primary",onClick:C},{default:t(()=>[e(r,{class:"mr5"},{default:t(()=>[e(S)]),_:1}),u(" 新 增 ")]),_:1}),e(J,{modelValue:a(c).params.keyword,"onUpdate:modelValue":P[0]||(P[0]=o=>a(c).params.keyword=o),clearable:"",onClear:m,onChange:m,class:"mt10",placeholder:"输入字典类型名称搜索"},{prefix:t(()=>[e(r,null,{default:t(()=>[e(H)]),_:1})]),_:1},8,["modelValue"]),k("div",pe,[a(c).data.length>0?(s(!0),_(ie,{key:0},se(a(c).data,o=>{var f;return s(),_("div",{class:de([((f=a(p).initParam)==null?void 0:f.dictCode)===o.id?"selected":"","dict-type-item flex-between"]),onClick:i=>G(o.code)},[k("span",null,N(o.name),1),k("span",ue,N(o.code),1),o.isSystem?(s(),_("div",me,[e(z,{content:"系统字典类型，无法修改",placement:"top"},{default:t(()=>[e(d,{size:"small",disabled:"",onClick:i=>C(o)},{default:t(()=>[e(r,null,{default:t(()=>[e(T)]),_:1})]),_:2},1032,["onClick"])]),_:2},1024),e(z,{content:"系统字典类型，无法删除",placement:"top"},{default:t(()=>[e(d,{size:"small",disabled:"",onClick:i=>x(o)},{default:t(()=>[e(r,null,{default:t(()=>[e(w)]),_:1})]),_:2},1032,["onClick"])]),_:2},1024)])):(s(),_("div",fe,[e(d,{size:"small",onClick:i=>C(o)},{default:t(()=>[e(r,null,{default:t(()=>[e(T)]),_:1})]),_:2},1032,["onClick"]),e(d,{size:"small",onClick:i=>x(o)},{default:t(()=>[e(r,null,{default:t(()=>[e(w)]),_:1})]),_:2},1032,["onClick"])]))],10,_e)}),256)):(s(),_("div",ge,"暂无数据"))])]),_:1})]),_:1}),e(R,{span:18},{default:t(()=>[e($,{shadow:"never"},{default:t(()=>{var o,f;return[(o=a(p).initParam)!=null&&o.dictCode&&((f=a(p).initParam)==null?void 0:f.dictCode)!=="0"?(s(),b(d,{key:0,type:"primary",onClick:v,class:"mb10"},{default:t(()=>[e(r,{class:"mr5"},{default:t(()=>[e(S)]),_:1}),u(" 新 增 ")]),_:1})):ce("",!0),e(K,{columns:F,data:a(I),initParam:a(c).initParam},{status:t(({row:i})=>[i.status?(s(),b(V,{key:0,type:"success","disable-transitions":""},{default:t(()=>[u("启用")]),_:1})):(s(),b(V,{key:1,type:"danger","disable-transitions":""},{default:t(()=>[u("禁用")]),_:1}))]),operation:t(({row:i})=>[e(d,{link:"",type:"primary",onClick:Q=>v(i)},{default:t(()=>[u(" 修改 ")]),_:2},1032,["onClick"]),e(d,{onClick:Q=>j(i),link:"",type:"danger"},{default:t(()=>[u(" 删除 ")]),_:2},1032,["onClick"])]),_:1},8,["data","initParam"]),e(M,{total:a(g).total,currentPage:a(g).pageIndex,pageSize:a(g).pageSize,onChangePage:a(E),onChangeSize:a(U)},null,8,["total","currentPage","pageSize","onChangePage","onChangeSize"])]}),_:1})]),_:1})]),_:1}),e(ee,{ref_key:"dictDialogRef",ref:h,dictCode:(B=a(p).initParam)==null?void 0:B.dictCode,typeList:a(c).data,onRefresh:a(y)},null,8,["dictCode","typeList","onRefresh"]),e(Z,{ref_key:"dictTypeDialogRef",ref:D,onRefresh:m},null,512)])}}});const ze=re(ye,[["__scopeId","data-v-22825adc"]]);export{ze as default};
