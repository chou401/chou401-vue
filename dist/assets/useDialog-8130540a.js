import{B as g,q as h,Z as D}from"./index-94373d68.js";function p({idName:i="id",initFormParam:o={},getDetailsApi:u,dataCallBack:l,afterOpenDialog:n}){const e=g({isShow:!1,title:"新增",id:""}),s=h({...o});async function a(t){u(t).then(v=>{s.value=Object.assign({},o,v),l&&(s.value=l(s.value))})}async function c(t){t[i]?(e.title="编辑",e.id=t[i],await a(t[i])):(e.title="新增",e.id=""),e.isShow=!0,n&&n(s.value)}function f(){e.isShow=!1,s.value={...o}}return{...D(e),form:s,closeDialog:f,openDialog:c}}export{p as u};
